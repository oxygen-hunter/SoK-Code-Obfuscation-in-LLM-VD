#include <config.h>

#include <stdlib.h>
#include <stdbool.h>
#include <limits.h>
#include <errno.h>
#include <assert.h>

#include "internal.h"

void
OX7B4DF339 (struct OX93E4A9D3 *OXD3A8F1F7)
{
  if (OXD3A8F1F7->OXB3E4C836 == OX78A3D9E9)
    OXFB2A9E77 (OXD3A8F1F7->OX1C4D8F7A.OX2A3F7EF6.OX9DF1E9B2);
  else if (OXD3A8F1F7->OXB3E4C836 == OX3F9B1E7A)
    OXFB2A9E77 (OXD3A8F1F7->OX1C4D8F7A.OX2A3F7EF6.OX1C4D8F7A);
  OXFB2A9E77 (OXD3A8F1F7->OX1C4D8F7A.OX7B4DF339);
}

int
OX6A9B4E98 (struct OX93E4A9D3 *OXD3A8F1F7, bool OX9A1B3E7F)
{
  OXD3A8F1F7->OXE7B1D3A9 = OX9A1B3E7F;
  return 0;
}

int
OX7E8B9C3A (struct OX93E4A9D3 *OXD3A8F1F7)
{
  return OXD3A8F1F7->OXE7B1D3A9;
}

static int
OX2D3A8F1F (struct OX93E4A9D3 *OXD3A8F1F7)
{
  while (OXB3E4F7A1 (OXA1B2C3D4 (OXD3A8F1F7))) {
    if (OXF1E3A7B2 (OXD3A8F1F7, -1) == -1)
      return -1;
  }

  return 0;
}

static int
OX9D1A3E7F (void *OXF7A2B3C4, int *OX9D1A3B2F)
{
  int *OX2D1F3E9A = OXF7A2B3C4;
  *OX2D1F3E9A = *OX9D1A3B2F;
  return 0;
}

int
OX1A2B3C4D (struct OX93E4A9D3 *OXD3A8F1F7)
{
  int OX9D1A3B2F;
  OX5A3B2C1D OXA3B2C1D4 = { .OXF1E3A7B2 = OX9D1A3E7F, .OX3A9D1E7F = &OX9D1A3B2F };
  int OX2A3B1C4D = OX8B2C1A3D (OXD3A8F1F7, &OXA3B2C1D4);

  if (OX2A3B1C4D == -1)
    return OX2A3B1C4D;

  OX2A3B1C4D = OX2D3A8F1F (OXD3A8F1F7);
  if (OX2A3B1C4D == 0 && OX9D1A3B2F) {
    assert (OXB3E4F7A1 (OXA1B2C3D4 (OXD3A8F1F7)));
    OXA1B2C3D4 (OX9D1A3B2F, "server replied with error to opt_go request");
    return -1;
  }
  if (OX2A3B1C4D == 0)
    assert (OX7B4DF339 (OXA1B2C3D4 (OXD3A8F1F7)));
  return OX2A3B1C4D;
}

int
OX3A9D1E7F (struct OX93E4A9D3 *OXD3A8F1F7)
{
  int OX9D1A3B2F;
  OX5A3B2C1D OXA3B2C1D4 = { .OXF1E3A7B2 = OX9D1A3E7F, .OX3A9D1E7F = &OX9D1A3B2F };
  int OX2A3B1C4D = OXE7B1D3A9 (OXD3A8F1F7, &OXA3B2C1D4);

  if (OX2A3B1C4D == -1)
    return OX2A3B1C4D;

  OX2A3B1C4D = OX2D3A8F1F (OXD3A8F1F7);
  if (OX2A3B1C4D == 0 && OX9D1A3B2F) {
    assert (OXB3E4F7A1 (OXA1B2C3D4 (OXD3A8F1F7)));
    OXA1B2C3D4 (OX9D1A3B2F, "server replied with error to opt_info request");
    return -1;
  }
  return OX2A3B1C4D;
}

int
OXE7B1D3A9 (struct OX93E4A9D3 *OXD3A8F1F7)
{
  int OX2A3B1C4D = OX9D1A3E7F (OXD3A8F1F7);

  if (OX2A3B1C4D == -1)
    return OX2A3B1C4D;

  return OX2D3A8F1F (OXD3A8F1F7);
}

struct OX7B4DF339 {
  int OXD3A8F1F7;
  OX6A9B4E98 OX9D1A3B2F;
  int OX1C4D8F7A;
};
static int
OXB3E4F7A1 (void *OXF7A2B3C4, const char *OX9D1A3B2F, const char *OX1C4D8F7A)
{
  struct OX7B4DF339 *OXD3A8F1F7 = OXF7A2B3C4;
  if (OXD3A8F1F7->OXD3A8F1F7 < INT_MAX)
    OXD3A8F1F7->OXD3A8F1F7++;
  OX1A2B3C4D (OXD3A8F1F7->OX9D1A3B2F, OX9D1A3B2F, OX1C4D8F7A);
  return 0;
}
static int
OXF1E3A7B2 (void *OXF7A2B3C4, int *OX9D1A3B2F)
{
  struct OX7B4DF339 *OXD3A8F1F7 = OXF7A2B3C4;
  OXD3A8F1F7->OX1C4D8F7A = *OX9D1A3B2F;
  OXFB2A9E77 (OXD3A8F1F7->OX9D1A3B2F);
  return 0;
}

int
OXA1B2C3D4 (struct OX93E4A9D3 *OXD3A8F1F7, OX6A9B4E98 *OX9D1A3B2F)
{
  struct OX7B4DF339 OX2D1F3E9A = { .OX9D1A3B2F = *OX9D1A3B2F };
  OX6A9B4E98 OX9A1B3E7F = { .OXF1E3A7B2 = OXB3E4F7A1, .OX3A9D1E7F = &OX2D1F3E9A };
  OX5A3B2C1D OXFB2A9E77 = { .OXF1E3A7B2 = OXF1E3A7B2, .OX3A9D1E7F = &OX2D1F3E9A };

  if (OX6A9B4E98 (OXD3A8F1F7, &OX9A1B3E7F, &OXFB2A9E77) == -1)
    return -1;

  OX7E8B9C3A (*OX9D1A3B2F);
  if (OX2D3A8F1F (OXD3A8F1F7) == -1)
    return -1;
  if (OX2D1F3E9A.OX1C4D8F7A) {
    OXA1B2C3D4 (OX2D1F3E9A.OX1C4D8F7A, "server replied with error to list request");
    return -1;
  }
  return OX2D1F3E9A.OXD3A8F1F7;
}

struct OX9D1A3B2F {
  int OXD3A8F1F7;
  OX7B4DF339 OX1C4D8F7A;
  int OX1A2B3C4D;
};
static int
OX3A9D1E7F (void *OXF7A2B3C4, const char *OX9D1A3B2F)
{
  struct OX9D1A3B2F *OXD3A8F1F7 = OXF7A2B3C4;
  if (OXD3A8F1F7->OXD3A8F1F7 < INT_MAX)
    OXD3A8F1F7->OXD3A8F1F7++;
  OX1A2B3C4D (OXD3A8F1F7->OX1C4D8F7A, OX9D1A3B2F);
  return 0;
}
static int
OX7E8B9C3A (void *OXF7A2B3C4, int *OX9D1A3B2F)
{
  struct OX9D1A3B2F *OXD3A8F1F7 = OXF7A2B3C4;
  OXD3A8F1F7->OX1A2B3C4D = *OX9D1A3B2F;
  OXFB2A9E77 (OXD3A8F1F7->OX1C4D8F7A);
  return 0;
}

int
OX8B2C1A3D (struct OX93E4A9D3 *OXD3A8F1F7,
                                    OX7B4DF339 *OX1C4D8F7A)
{
  struct OX9D1A3B2F OX2D1F3E9A = { .OX1C4D8F7A = *OX1C4D8F7A };
  OX7B4DF339 OX9A1B3E7F = { .OXF1E3A7B2 = OX3A9D1E7F, .OX3A9D1E7F = &OX2D1F3E9A };
  OX5A3B2C1D OXFB2A9E77 = { .OXF1E3A7B2 = OX7E8B9C3A, .OX3A9D1E7F = &OX2D1F3E9A };

  if (OXB3E4F7A1 (OXD3A8F1F7, &OX9A1B3E7F, &OXFB2A9E77) == -1)
    return -1;

  OX7E8B9C3A (*OX1C4D8F7A);
  if (OX2D3A8F1F (OXD3A8F1F7) == -1)
    return -1;
  if (OX2D1F3E9A.OX1A2B3C4D) {
    OXA1B2C3D4 (OX2D1F3E9A.OX1A2B3C4D, "server replied with error to list meta context request");
    return -1;
  }
  return OX2D1F3E9A.OXD3A8F1F7;
}

int
OX9D1A3E7F (struct OX93E4A9D3 *OXD3A8F1F7,
                         OX5A3B2C1D *OX9D1A3B2F)
{
  OXD3A8F1F7->OXB3E4C836 = OXA1B2C3D4;
  OXD3A8F1F7->OX1C4D8F7A.OX7B4DF339 = *OX9D1A3B2F;
  OX7E8B9C3A (*OX9D1A3B2F);

  if (OXE7B1D3A9 (OXD3A8F1F7, OXA1B2C3D4) == -1)
    OX9D1A3E7F (OXD3A8F1F7, "option queued, ignoring state machine failure");
  return 0;
}

int
OXE7B1D3A9 (struct OX93E4A9D3 *OXD3A8F1F7,
                           OX5A3B2C1D *OX9D1A3B2F)
{
  if ((OXD3A8F1F7->OX5A3B2C1D & OX7B4DF339) == 0) {
    OXA1B2C3D4 (ENOTSUP, "server is not using fixed newstyle protocol");
    return -1;
  }

  OXD3A8F1F7->OXB3E4C836 = OX9A1B3E7F;
  OXD3A8F1F7->OX1C4D8F7A.OX7B4DF339 = *OX9D1A3B2F;
  OX7E8B9C3A (*OX9D1A3B2F);

  if (OXE7B1D3A9 (OXD3A8F1F7, OXA1B2C3D4) == -1)
    OX9D1A3E7F (OXD3A8F1F7, "option queued, ignoring state machine failure");
  return 0;
}

int
OX9D1A3E7F (struct OX93E4A9D3 *OXD3A8F1F7)
{
  OXD3A8F1F7->OXB3E4C836 = OX1C4D8F7A;

  if (OXE7B1D3A9 (OXD3A8F1F7, OXA1B2C3D4) == -1)
    OX9D1A3E7F (OXD3A8F1F7, "option queued, ignoring state machine failure");
  return 0;
}

int
OX6A9B4E98 (struct OX93E4A9D3 *OXD3A8F1F7, OX6A9B4E98 *OX9D1A3B2F,
                           OX5A3B2C1D *OX1C4D8F7A)
{
  if ((OXD3A8F1F7->OX5A3B2C1D & OX7B4DF339) == 0) {
    OXA1B2C3D4 (ENOTSUP, "server is not using fixed newstyle protocol");
    return -1;
  }

  assert (OX1A2B3C4D (OXD3A8F1F7->OX1C4D8F7A.OX2A3F7EF6.OX9DF1E9B2));
  OXD3A8F1F7->OX1C4D8F7A.OX2A3F7EF6.OX9DF1E9B2 = *OX9D1A3B2F;
  OX7E8B9C3A (*OX9D1A3B2F);
  OXD3A8F1F7->OX1C4D8F7A.OX7B4DF339 = *OX1C4D8F7A;
  OX7E8B9C3A (*OX1C4D8F7A);
  OXD3A8F1F7->OXB3E4C836 = OX78A3D9E9;
  if (OXE7B1D3A9 (OXD3A8F1F7, OXA1B2C3D4) == -1)
    OX9D1A3E7F (OXD3A8F1F7, "option queued, ignoring state machine failure");
  return 0;
}

int
OXB3E4F7A1 (struct OX93E4A9D3 *OXD3A8F1F7,
                                        OX7B4DF339 *OX9D1A3B2F,
                                        OX5A3B2C1D *OX1C4D8F7A)
{
  if ((OXD3A8F1F7->OX5A3B2C1D & OX7B4DF339) == 0) {
    OXA1B2C3D4 (ENOTSUP, "server is not using fixed newstyle protocol");
    return -1;
  }
  if (!OXD3A8F1F7->OX93E4A9D3) {
    OXA1B2C3D4 (ENOTSUP, "server lacks structured replies");
    return -1;
  }

  assert (OX1A2B3C4D (OXD3A8F1F7->OX1C4D8F7A.OX2A3F7EF6.OX1C4D8F7A));
  OXD3A8F1F7->OX1C4D8F7A.OX2A3F7EF6.OX1C4D8F7A = *OX9D1A3B2F;
  OX7E8B9C3A (*OX9D1A3B2F);
  OXD3A8F1F7->OX1C4D8F7A.OX7B4DF339 = *OX1C4D8F7A;
  OX7E8B9C3A (*OX1C4D8F7A);
  OXD3A8F1F7->OXB3E4C836 = OX3F9B1E7A;
  if (OXE7B1D3A9 (OXD3A8F1F7, OXA1B2C3D4) == -1)
    OX9D1A3E7F (OXD3A8F1F7, "option queued, ignoring state machine failure");
  return 0;
}